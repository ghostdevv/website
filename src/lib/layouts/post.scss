.markdown {
	font-size: var(--post-font-size, 18px);
	line-height: var(--post-line-height, 1.8);
	font-weight: normal;

	max-width: 100%;

	& > :first-child {
		margin-top: 0px;
	}

	.table-wrapper {
		max-width: 100%;
		width: 100%;
		overflow: auto;
	}

	table {
		width: 100%;
	}

	p {
		margin: 12px 0px;
	}

	h1 {
		padding: 8px 0px;
		border-bottom: 4px solid var(--background-secondary);

		&:not(&:first-child) {
			margin-top: 32px;
		}
	}

	h1,
	h2 {
		font-weight: 600;
		margin-top: 48px;
		color: #fff;
	}

	h3,
	h4 {
		font-weight: 600;
		margin-top: 28px;
	}

	img {
		max-width: 100%;
		height: auto;
		overflow-x: auto;
	}

	.markdown-alert {
		// patch for the styling here
		p {
			line-height: normal;
			margin: 8px 0px;
		}
	}

	a {
		word-wrap: break-word;
	}

	:is(ul, ol) li p {
		display: inline;
	}

	.footnotes {
		padding-top: 16px;
		border-top: 2px solid var(--background-secondary);

		ol li {
			&::marker {
				font-size: 0.85rem;
				color: var(--text-grey);
			}

			a[data-footnote-backref] {
				color: var(--text-grey);

				&:focus-visible,
				&:hover {
					color: var(--primary);
				}
			}
		}
	}

	.expressive-code {
		margin: 12px 0px;

		// restore box shadow and add to code title
		pre:has(code),
		.frame.has-title .header .title {
			box-shadow:
				1px 1px 6px var(--background-tertiary) inset,
				-1px -1px 6px var(--background-primary) inset;
		}

		// Hack to make codeblock title full width
		.frame.has-title .header .title {
			flex-grow: 1;
			text-align: center;
			--ec-frm-edActTabIndBtmCol: var(--background-tertiary);
		}

		// Uncomment if not using above hack
		// fixes wrong border radius with my custom theme
		/* .frame.has-title pre {
			border-top-right-radius: inherit;
		} */

		// Workaround to disable terminal frame
		// https://github.com/expressive-code/expressive-code/issues/355
		.frame.is-terminal {
			--button-spacing: 0.4rem;

			figcaption {
				display: none;
			}

			pre {
				border-top-right-radius: inherit;
				border-top-left-radius: inherit;
			}
		}

		// Patch copy button
		.copy button {
			background: transparent;
			border-radius: 4px;
		}
	}
}
